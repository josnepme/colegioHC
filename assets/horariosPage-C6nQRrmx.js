import{a as u,H as g,e as m,k as w,o as s,p as i,h as a,b as f,c as p,X as N,j as C,$ as y}from"./index-BaiCGngT.js";import{Q as R}from"./QPage-CeyVCo50.js";import{api as h}from"./axios-DN8dVMgI.js";const x={class:"row q-gutter-md q-mt-md"},k={key:0,class:"text-primary",for:"seccion"},E={key:1,class:"text-blue-grey-4",for:"seccion"},U={key:0,class:"text-primary",for:"turno"},V={key:1,class:"text-blue-grey-4",for:"seccion"},S={__name:"horariosPage",setup(A){const r=u(""),v=u([]),n=u(""),b=async()=>{var o=new FormData;o.append("opcion",2);const e=await h.post("secciones",o).finally(()=>{});v.value=e.data};g(()=>{b()});const _=async()=>{if(r.value==""){y.create({message:"Debe seleccionar una seccion",icon:"error",color:"negative",textColor:"white",position:"center"});return}if(n.value==""){y.create({message:"Debe seleccionaer un turno",icon:"error",color:"negative",textColor:"white",position:"center"});return}var o=new FormData;o.append("id_secc",r.value),o.append("id_turno",n.value),o.append("opcion",3),h.post("horarios",o,{responseType:"arraybuffer",headers:{Accept:"application/pdf"}}).then(e=>{var l=e.data;const c=window.URL.createObjectURL(new Blob([l])),t=document.createElement("a");t.href=c,t.setAttribute("download","HORARIOS.pdf"),document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)}).finally(()=>{}).catch(e=>{console.error("There was an error!",e.message)})};return(o,e)=>{const l=m("Select"),c=m("FloatLabel"),t=m("Card");return s(),w(R,{padding:""},{default:i(()=>[a(t,{class:"shadow-2xs"},{title:i(()=>e[3]||(e[3]=[C("Horarios")])),content:i(()=>[f("div",x,[f("div",null,[a(c,{variant:"on"},{default:i(()=>[a(l,{name:"seccion",id:"seccion",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=d=>r.value=d),options:v.value,filter:"",emptyFilterMessage:"No se Encontro El Registro",emptyMessage:"No hay Registros",optionLabel:"descripcion","option-value":"id",style:{width:"150px"},dataKey:"id","clear-icon":"pi pi-trash",showClear:""},null,8,["modelValue","options"]),r.value?(s(),p("label",k,"SECCÍON")):(s(),p("label",E,"INGRESE UNA SECCÍON"))]),_:1})]),f("div",null,[a(c,{variant:"on"},{default:i(()=>[a(l,{name:"turno",id:"turno",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=d=>n.value=d),options:[{id:1,descripcion:"MAÑANA"},{id:2,descripcion:"TARDE"}],filter:"",emptyFilterMessage:"No se Encontro El Registro",emptyMessage:"No hay Registros",optionLabel:"descripcion","option-value":"id",style:{width:"200px"},dataKey:"id","clear-icon":"pi pi-trash",showClear:""},null,8,["modelValue"]),n.value?(s(),p("label",U,"TURNO")):(s(),p("label",V,"INGRESE UN TURNO"))]),_:1})]),a(N,{color:"white","text-color":"black",label:"Imprimir",onClick:e[2]||(e[2]=d=>_())})])]),_:1})]),_:1})}}};export{S as default};
